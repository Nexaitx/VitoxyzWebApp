import{b as se,c as ue,d as ce}from"./chunk-GO6OF5XU.js";import{c as ae,d as me,e as de}from"./chunk-F23LGRB3.js";import{b as q}from"./chunk-S5VVC5CB.js";import{a as he,b as ge,c as _e,d as Pe}from"./chunk-6DAGPNRT.js";import{a as ne,b as re,f as oe,g as le,q as pe,r as fe}from"./chunk-VQO27OIW.js";import"./chunk-QMM6EWUP.js";import{a as Z,b as Q,c as X,d as ee,e as te,g as ie}from"./chunk-7I2LX3UK.js";import{m as L,n as V}from"./chunk-R5KEWRZK.js";import{b as z,d as a,g as B,h as A,l as K,m as R,n as G,p as j,q as H,r as $,s as J,t as Y,u as D,w as W}from"./chunk-XW4POOS2.js";import{d as k,e as T}from"./chunk-DCOQG6GG.js";import{Ab as v,Bb as F,Ec as N,Fb as M,Fc as w,Gb as y,Hc as U,Qa as I,Sa as d,Ub as o,Wb as b,Xa as C,cb as O,gb as f,wb as p,xb as n,yb as t,zb as s}from"./chunk-WSPRPFVR.js";function Ce(l,e){l&1&&(n(0,"mat-error"),o(1," Full Name is required. "),t())}function be(l,e){l&1&&(n(0,"mat-error"),o(1," Please enter a valid email address. "),t())}function ve(l,e){l&1&&(n(0,"mat-error"),o(1," Please enter a valid 10-digit phone number. "),t())}function Fe(l,e){l&1&&(n(0,"mat-error"),o(1," City is required. "),t())}function Me(l,e){l&1&&(n(0,"mat-error"),o(1," Gender is required. "),t())}function ye(l,e){l&1&&(n(0,"mat-error"),o(1," Please enter a valid age (1-120). "),t())}function Se(l,e){l&1&&(n(0,"mat-error"),o(1," Please select a height unit. "),t())}function Ee(l,e){l&1&&(n(0,"mat-error"),o(1," Please enter a valid height (50-250 cm). "),t())}function Ie(l,e){if(l&1&&(v(0),n(1,"mat-form-field",8)(2,"mat-label"),o(3,"Height (cm)"),t(),s(4,"input",34),f(5,Ee,2,0,"mat-error",10),t(),F()),l&2){let r,i=y();d(5),p("ngIf",((r=i.updateProfileForm.get("heightCm"))==null?null:r.invalid)&&((r=i.updateProfileForm.get("heightCm"))==null?null:r.touched))}}function Oe(l,e){if(l&1&&(n(0,"mat-option",39),o(1),t()),l&2){let r=e.$implicit;p("value",r),d(),b("",r,"'")}}function Ne(l,e){l&1&&(n(0,"mat-error"),o(1," Feet is required. "),t())}function we(l,e){if(l&1&&(n(0,"mat-option",39),o(1),t()),l&2){let r=e.$implicit;p("value",r),d(),b("",r,'"')}}function Ue(l,e){l&1&&(n(0,"mat-error"),o(1," Inches are required. "),t())}function qe(l,e){if(l&1&&(v(0),n(1,"div",35)(2,"mat-form-field",12)(3,"mat-label"),o(4,"Feet"),t(),n(5,"mat-select",36),f(6,Oe,2,2,"mat-option",37),t(),f(7,Ne,2,0,"mat-error",10),t(),n(8,"mat-form-field",12)(9,"mat-label"),o(10,"Inches"),t(),n(11,"mat-select",38),f(12,we,2,2,"mat-option",37),t(),f(13,Ue,2,0,"mat-error",10),t()(),F()),l&2){let r,i,m=y();d(6),p("ngForOf",m.feetOptions),d(),p("ngIf",((r=m.updateProfileForm.get("heightFeet"))==null?null:r.invalid)&&((r=m.updateProfileForm.get("heightFeet"))==null?null:r.touched)),d(5),p("ngForOf",m.inchesOptions),d(),p("ngIf",((i=m.updateProfileForm.get("heightInches"))==null?null:i.invalid)&&((i=m.updateProfileForm.get("heightInches"))==null?null:i.touched))}}function Le(l,e){l&1&&(n(0,"mat-error"),o(1," Please enter a valid weight (10-300 kg). "),t())}function Ve(l,e){l&1&&s(0,"mat-spinner",40),l&2&&p("diameter",20)}var xe=class l{constructor(e,r,i){this.fb=e;this.router=r;this._snackBar=i}updateProfileForm;isLoading=!1;feetOptions=Array.from({length:12},(e,r)=>r+1);inchesOptions=Array.from({length:12},(e,r)=>r);selectedFile=null;profilePhotoUrl="assets/placeholder-profile.png";mockUserData={fullName:"Jane Doe",email:"jane.doe@example.com",phoneNumber:"9876543210",addressLine1:"123 Main St",addressLine2:"Apt 4B",city:"Mumbai",stateProvince:"Maharashtra",zipCode:"400001",profilePhoto:"https://via.placeholder.com/120/007bff/FFFFFF?text=JD",gender:"female",age:30,heightUnit:"feet_inches",heightFeet:5,heightInches:6,weightKg:65.5};ngOnInit(){console.log("Initializing Profile Component"),this.updateProfileForm=this.fb.group({fullName:["",a.required],email:["",[a.required,a.email]],phoneNumber:["",[a.required,a.pattern("^[0-9]{10}$")]],addressLine1:[""],addressLine2:[""],city:["",a.required],stateProvince:[""],zipCode:[""],gender:["",a.required],age:["",[a.required,a.min(1),a.max(120)]],heightUnit:["cm",a.required],heightCm:["",[a.min(50),a.max(250)]],heightFeet:[""],heightInches:[""],weightKg:["",[a.required,a.min(10),a.max(300)]]}),this.populateForm(this.mockUserData),this.updateProfileForm.get("heightUnit")?.valueChanges.subscribe(e=>{let r=this.updateProfileForm.get("heightCm"),i=this.updateProfileForm.get("heightFeet"),m=this.updateProfileForm.get("heightInches");!r||!i||!m||(e==="cm"?(i.clearValidators(),i.disable(),i.setValue(""),m.clearValidators(),m.disable(),m.setValue(""),r.setValidators([a.required,a.min(50),a.max(250)]),r.enable()):(r.clearValidators(),r.disable(),r.setValue(""),i.setValidators([a.required,a.min(1),a.max(12)]),i.enable(),m.setValidators([a.required,a.min(0),a.max(11)]),m.enable()),r.updateValueAndValidity(),i.updateValueAndValidity(),m.updateValueAndValidity())}),this.mockUserData.profilePhoto&&(this.profilePhotoUrl=this.mockUserData.profilePhoto),this.updateProfileForm.get("heightUnit")?.setValue(this.mockUserData.heightUnit)}populateForm(e){this.updateProfileForm.patchValue({fullName:e.fullName,email:e.email,phoneNumber:e.phoneNumber,addressLine1:e.addressLine1,addressLine2:e.addressLine2,city:e.city,stateProvince:e.stateProvince,zipCode:e.zipCode,gender:e.gender,age:e.age,heightUnit:e.heightUnit,heightCm:e.heightUnit==="cm"?e.heightCm:null,heightFeet:e.heightUnit==="feet_inches"?e.heightFeet:null,heightInches:e.heightUnit==="feet_inches"?e.heightInches:null,weightKg:e.weightKg})}onFileSelected(e){let r=e.target;if(r.files&&r.files[0]){this.selectedFile=r.files[0];let i=new FileReader;i.onload=()=>{this.profilePhotoUrl=i.result},i.readAsDataURL(this.selectedFile)}else this.selectedFile=null,this.profilePhotoUrl=this.mockUserData.profilePhoto||"assets/placeholder-profile.png"}onSubmit(){if(this.updateProfileForm.markAllAsTouched(),this.updateProfileForm.valid){this.isLoading=!0;let e=this.updateProfileForm.value;console.log("Update Profile Form Data:",e);let r=null;if(e.heightUnit==="cm")r=e.heightCm;else if(e.heightUnit==="feet_inches"&&e.heightFeet!==null&&e.heightInches!==null){let m=e.heightFeet*12+e.heightInches;r=parseFloat((m*2.54).toFixed(2))}let i={fullName:e.fullName,email:e.email,phoneNumber:e.phoneNumber,addressLine1:e.addressLine1,addressLine2:e.addressLine2,city:e.city,stateProvince:e.stateProvince,zipCode:e.zipCode,gender:e.gender,age:e.age,heightCm:r,weightKg:e.weightKg};console.log("Processed Data for Backend Update:",i),this.selectedFile&&console.log("New Profile Photo selected:",this.selectedFile.name,this.selectedFile.type),setTimeout(()=>{this.isLoading=!1,this._snackBar.open("Profile updated successfully!","Close",{duration:3e3,panelClass:["snackbar-success"]})},1500)}else this._snackBar.open("Please correct the errors in the form.","Close",{duration:3e3,panelClass:["snackbar-error"]}),console.log("Form is invalid, please check errors.")}static \u0275fac=function(r){return new(r||l)(C(D),C(q),C(he))};static \u0275cmp=O({type:l,selectors:[["app-profile"]],decls:94,vars:15,consts:[[1,"update-profile-container"],[1,"update-profile-card"],[1,"update-profile-form",3,"ngSubmit","formGroup"],[1,"profile-photo-section","full-width"],["for","profilePhotoInput",1,"profile-photo-wrapper"],["alt","Profile Photo",1,"profile-photo",3,"src"],[1,"photo-overlay"],["type","file","id","profilePhotoInput","accept","image/*","hidden","",3,"change"],["appearance","outline",1,"full-width"],["matInput","","formControlName","fullName","required",""],[4,"ngIf"],[1,"form-row"],["appearance","outline",1,"form-field-half"],["matInput","","type","email","formControlName","email","required",""],["matInput","","type","tel","formControlName","phoneNumber","required","","pattern","[0-9]{10}"],["matInput","","formControlName","addressLine1"],["matInput","","formControlName","addressLine2"],["matInput","","formControlName","city","required",""],["matInput","","formControlName","stateProvince"],["matInput","","formControlName","zipCode"],["formControlName","gender","required",""],["value","male"],["value","female"],["value","other"],["value","prefer_not_to_say"],["matInput","","type","number","formControlName","age","required","","min","1","max","120"],[1,"height-section","full-width"],[1,"section-label"],["aria-label","Select Height Unit","formControlName","heightUnit","required","",1,"height-unit-radio-group"],["value","cm"],["value","feet_inches"],["matInput","","type","number","formControlName","weightKg","required","","min","10","max","300","placeholder","e.g., 75.2"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],["color","accent","class","spinner",3,"diameter",4,"ngIf"],["matInput","","type","number","formControlName","heightCm","required","","min","50","max","250"],[1,"height-feet-inches"],["formControlName","heightFeet","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","heightInches","required",""],[3,"value"],["color","accent",1,"spinner",3,"diameter"]],template:function(r,i){if(r&1&&(n(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),o(4,"Update Your Profile"),t(),n(5,"mat-card-subtitle"),o(6,"Edit your personal details and photo below."),t()(),n(7,"mat-card-content")(8,"form",2),M("ngSubmit",function(){return i.onSubmit()}),n(9,"div",3)(10,"label",4),s(11,"img",5),n(12,"div",6)(13,"mat-icon"),o(14,"camera_alt"),t(),n(15,"span"),o(16,"Change Photo"),t()()(),n(17,"input",7),M("change",function(u){return i.onFileSelected(u)}),t()(),n(18,"mat-form-field",8)(19,"mat-label"),o(20,"Full Name"),t(),s(21,"input",9),f(22,Ce,2,0,"mat-error",10),t(),n(23,"div",11)(24,"mat-form-field",12)(25,"mat-label"),o(26,"Email"),t(),s(27,"input",13),f(28,be,2,0,"mat-error",10),t(),n(29,"mat-form-field",12)(30,"mat-label"),o(31,"Phone Number"),t(),s(32,"input",14),f(33,ve,2,0,"mat-error",10),t()(),n(34,"mat-form-field",8)(35,"mat-label"),o(36,"Address Line 1"),t(),s(37,"input",15),t(),n(38,"mat-form-field",8)(39,"mat-label"),o(40,"Address Line 2 (Optional)"),t(),s(41,"input",16),t(),n(42,"div",11)(43,"mat-form-field",12)(44,"mat-label"),o(45,"City"),t(),s(46,"input",17),f(47,Fe,2,0,"mat-error",10),t(),n(48,"mat-form-field",12)(49,"mat-label"),o(50,"State / Province"),t(),s(51,"input",18),t()(),n(52,"div",11)(53,"mat-form-field",12)(54,"mat-label"),o(55,"Zip / Postal Code"),t(),s(56,"input",19),t(),n(57,"mat-form-field",12)(58,"mat-label"),o(59,"Gender"),t(),n(60,"mat-select",20)(61,"mat-option",21),o(62,"Male"),t(),n(63,"mat-option",22),o(64,"Female"),t(),n(65,"mat-option",23),o(66,"Other"),t(),n(67,"mat-option",24),o(68,"Prefer not to say"),t()(),f(69,Me,2,0,"mat-error",10),t()(),n(70,"mat-form-field",8)(71,"mat-label"),o(72,"Age"),t(),s(73,"input",25),f(74,ye,2,0,"mat-error",10),t(),n(75,"div",26)(76,"mat-label",27),o(77,"Height:"),t(),n(78,"mat-radio-group",28)(79,"mat-radio-button",29),o(80,"Centimeters (cm)"),t(),n(81,"mat-radio-button",30),o(82,"Feet & Inches"),t()(),f(83,Se,2,0,"mat-error",10)(84,Ie,6,1,"ng-container",10)(85,qe,14,4,"ng-container",10),t(),n(86,"mat-form-field",8)(87,"mat-label"),o(88,"Current Weight"),t(),s(89,"input",31),f(90,Le,2,0,"mat-error",10),t(),n(91,"button",32),f(92,Ve,1,1,"mat-spinner",33),o(93),t()()()()()),r&2){let m,u,c,h,g,_,P,S,E,x;d(8),p("formGroup",i.updateProfileForm),d(3),p("src",i.profilePhotoUrl||"assets/placeholder-profile.png",I),d(11),p("ngIf",((m=i.updateProfileForm.get("fullName"))==null?null:m.invalid)&&((m=i.updateProfileForm.get("fullName"))==null?null:m.touched)),d(6),p("ngIf",((u=i.updateProfileForm.get("email"))==null?null:u.invalid)&&((u=i.updateProfileForm.get("email"))==null?null:u.touched)),d(5),p("ngIf",((c=i.updateProfileForm.get("phoneNumber"))==null?null:c.invalid)&&((c=i.updateProfileForm.get("phoneNumber"))==null?null:c.touched)),d(14),p("ngIf",((h=i.updateProfileForm.get("city"))==null?null:h.invalid)&&((h=i.updateProfileForm.get("city"))==null?null:h.touched)),d(22),p("ngIf",((g=i.updateProfileForm.get("gender"))==null?null:g.invalid)&&((g=i.updateProfileForm.get("gender"))==null?null:g.touched)),d(5),p("ngIf",((_=i.updateProfileForm.get("age"))==null?null:_.invalid)&&((_=i.updateProfileForm.get("age"))==null?null:_.touched)),d(9),p("ngIf",((P=i.updateProfileForm.get("heightUnit"))==null?null:P.invalid)&&((P=i.updateProfileForm.get("heightUnit"))==null?null:P.touched)),d(),p("ngIf",((S=i.updateProfileForm.get("heightUnit"))==null?null:S.value)==="cm"),d(),p("ngIf",((E=i.updateProfileForm.get("heightUnit"))==null?null:E.value)==="feet_inches"),d(5),p("ngIf",((x=i.updateProfileForm.get("weightKg"))==null?null:x.invalid)&&((x=i.updateProfileForm.get("weightKg"))==null?null:x.touched)),d(),p("disabled",i.updateProfileForm.invalid||i.isLoading),d(),p("ngIf",i.isLoading),d(),b(" ",i.isLoading?"Saving...":"Save Changes"," ")}},dependencies:[U,N,w,W,K,z,R,B,A,J,Y,$,H,G,j,ie,Z,X,te,ee,Q,fe,pe,oe,ne,re,V,L,le,de,me,ae,ce,se,ue,Pe,_e,ge,T,k],styles:[".update-profile-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f0f2f5;padding:20px;box-sizing:border-box}.update-profile-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:25px;box-shadow:0 4px 8px #0000001a;border-radius:8px}.update-profile-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .update-profile-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#3f51b5}.update-profile-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600}.update-profile-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#666}.update-profile-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px 20px}.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;width:100%}.form-field-half[_ngcontent-%COMP%]{flex:1 1 calc(50% - 10px);min-width:150px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.profile-photo-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:25px}.profile-photo-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:50%;overflow:hidden;cursor:pointer;box-shadow:0 2px 6px #00000026;transition:box-shadow .3s ease-in-out}.profile-photo-wrapper[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000040}.profile-photo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.photo-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:0;transition:opacity .3s ease-in-out}.profile-photo-wrapper[_ngcontent-%COMP%]:hover   .photo-overlay[_ngcontent-%COMP%]{opacity:1}.photo-overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;height:40px;width:40px}.photo-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:5px;font-size:.9em}.height-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #e0e0e0;border-radius:8px;padding:15px;background-color:#fcfcfc}.height-section[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:10px}.height-unit-radio-group[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:15px}.height-feet-inches[_ngcontent-%COMP%]{display:flex;gap:20px}.height-feet-inches[_ngcontent-%COMP%]   .form-field-half[_ngcontent-%COMP%]{flex:1 1 calc(50% - 10px)}.submit-button[_ngcontent-%COMP%]{flex:1 1 100%;margin-top:25px;height:50px;font-size:1.1em;position:relative}.spinner[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%)}@media (max-width: 600px){.update-profile-card[_ngcontent-%COMP%]{padding:15px;box-shadow:none;border-radius:0}.update-profile-form[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.form-field-half[_ngcontent-%COMP%]{flex:1 1 100%}.height-feet-inches[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.height-feet-inches[_ngcontent-%COMP%]   .form-field-half[_ngcontent-%COMP%]{flex:1 1 100%}}"]})};export{xe as Profile};
