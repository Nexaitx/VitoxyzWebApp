import{b as L,g as R,k as E,v as U}from"./chunk-XW4POOS2.js";import{d as V,e as T}from"./chunk-DCOQG6GG.js";import{Db as u,Ec as P,Fb as g,Fc as O,Gb as h,Hc as k,Kb as C,Lb as w,Mb as x,Sa as l,Sb as y,Ub as d,Wb as M,Xb as I,Yb as S,Zb as v,cb as b,ea as a,fa as c,gb as f,wb as p,xb as s,yb as r}from"./chunk-WSPRPFVR.js";var F=["chatMessages"];function N(o,t){if(o&1&&(s(0,"div"),d(1),r()),o&2){let e=t.$implicit;y("user-message",e.isUser)("bot-message",!e.isUser),l(),M(" ",e.text," ")}}function D(o,t){if(o&1){let e=u();s(0,"button",9),g("click",function(){a(e);let i=h();return c(i.toggleSpeechRecognition())}),s(1,"mat-icon"),d(2,"mic_none"),r()()}}function H(o,t){if(o&1){let e=u();s(0,"button",10),g("click",function(){a(e);let i=h();return c(i.sendMessage())}),s(1,"mat-icon"),d(2,"send"),r()()}}var B=class o{chatMessages;messages=[{text:"Hello! How can I assist you today?",isUser:!1}];userInput="";isListening=!1;recognition;constructor(){let t=window.SpeechRecognition||window.webkitSpeechRecognition;t&&(this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!1,this.recognition.lang="en-US",this.recognition.onresult=e=>{let n=e.results[0][0].transcript;this.userInput=n,this.sendMessage()},this.recognition.onend=()=>{this.isListening=!1})}ngAfterViewInit(){this.scrollToBottom()}onInputChange(){}sendMessage(){this.userInput.trim()&&(this.messages.push({text:this.userInput,isUser:!0}),this.getBotResponse(this.userInput),this.userInput="",setTimeout(()=>this.scrollToBottom(),0))}toggleSpeechRecognition(){if(!this.recognition){this.messages.push({text:"Speech recognition is not supported in this browser.",isUser:!1});return}this.isListening?(this.recognition.stop(),this.isListening=!1):(this.isListening=!0,this.recognition.start())}getBotResponse(t){let e="I\u2019m here to help! Could you provide more details?";t.toLowerCase().includes("issue")||t.toLowerCase().includes("problem")?e="Sorry to hear you\u2019re having an issue. Please describe the problem in detail, and I\u2019ll guide you through troubleshooting.":t.toLowerCase().includes("hello")||t.toLowerCase().includes("hi")?e="Hi there! How can I assist you today?":t.toLowerCase().includes("account")&&(e="For account-related queries, please provide your account ID or email, and I\u2019ll check the status for you."),setTimeout(()=>{this.messages.push({text:e,isUser:!1}),this.scrollToBottom()},1e3)}scrollToBottom(){if(this.chatMessages){let t=this.chatMessages.nativeElement;t.scrollTop=t.scrollHeight}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-support"]],viewQuery:function(e,n){if(e&1&&C(F,5),e&2){let i;w(i=x())&&(n.chatMessages=i.first)}},decls:9,vars:4,consts:[["chatMessages",""],[1,"chatbot-container"],[1,"chat-messages"],[3,"user-message","bot-message",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["type","text","placeholder","Type your message...",3,"ngModelChange","keyup.enter","ngModel"],["class","mic-button",3,"click",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],[1,"mic-button",3,"click"],[1,"send-button",3,"click"]],template:function(e,n){if(e&1){let i=u();s(0,"div",1)(1,"div",2,0),f(3,N,2,5,"div",3),r(),s(4,"div",4)(5,"div",5)(6,"input",6),v("ngModelChange",function(m){return a(i),S(n.userInput,m)||(n.userInput=m),c(m)}),g("ngModelChange",function(){return a(i),c(n.onInputChange())})("keyup.enter",function(){return a(i),c(n.sendMessage())}),r(),f(7,D,3,0,"button",7)(8,H,3,0,"button",8),r()()()}e&2&&(l(3),p("ngForOf",n.messages),l(3),I("ngModel",n.userInput),l(),p("ngIf",!n.userInput&&!n.isListening),l(),p("ngIf",n.userInput||n.isListening))},dependencies:[k,P,O,U,L,R,E,T,V],styles:[".chatbot-container[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;align-items:end;background-color:transparent;height:100vh}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:10px;display:flex;flex-direction:column;gap:10px;overflow-y:auto;max-height:calc(100vh - 60px)}.user-message[_ngcontent-%COMP%], .bot-message[_ngcontent-%COMP%]{background-color:#fff;border:.5px solid #ff6200;color:#333;padding:8px 15px;border-radius:20px;margin:5px 10px;max-width:80%;display:inline-block;word-wrap:break-word}.user-message[_ngcontent-%COMP%]{align-self:flex-end}.bot-message[_ngcontent-%COMP%]{align-self:flex-start}.chat-input[_ngcontent-%COMP%]{padding:10px;display:flex;background-color:transparent;position:sticky;bottom:0;width:100%}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}input[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 15px;border:.5px solid #ff6200;border-radius:20px;background-color:#fff;outline:none}.mic-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{position:absolute;right:5px;background-color:transparent;border:none;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.mic-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6200;font-size:20px;width:20px;height:20px}.send-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover, .mic-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{color:#e55a00}.mic-button[_ngcontent-%COMP%]:disabled   mat-icon[_ngcontent-%COMP%]{color:#ffb380;cursor:not-allowed}"]})};export{B as Support};
