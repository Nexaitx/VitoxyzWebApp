import{a as E,b as U,d as N}from"./chunk-6DAGPNRT.js";import{g as V,r as D}from"./chunk-VQO27OIW.js";import"./chunk-QMM6EWUP.js";import{g as R}from"./chunk-7I2LX3UK.js";import{n as P}from"./chunk-R5KEWRZK.js";import{b as A,g as B,k as F,v as L,w as T}from"./chunk-XW4POOS2.js";import{d as S,e as v}from"./chunk-DCOQG6GG.js";import{Db as f,Ec as k,Fb as l,Fc as I,Gb as h,Hc as O,Sa as a,Sb as b,Ub as g,Wb as x,Xa as M,Xb as y,Yb as C,Zb as w,cb as _,ea as u,fa as d,gb as m,wb as c,xb as s,yb as r}from"./chunk-WSPRPFVR.js";function W(i,n){if(i&1&&(s(0,"div"),g(1),r()),i&2){let t=n.$implicit;b("user-message",t.isUser)("bot-message",!t.isUser),a(),x(" ",t.text," ")}}function j(i,n){if(i&1){let t=f();s(0,"button",8),l("click",function(){u(t);let o=h();return d(o.toggleSpeechRecognition())}),s(1,"mat-icon"),g(2,"mic_none"),r()()}}function q(i,n){if(i&1){let t=f();s(0,"button",9),l("click",function(){u(t);let o=h();return d(o.sendMessage())}),s(1,"mat-icon"),g(2,"send"),r()()}}var H=class i{constructor(n){this.snackBar=n;let t=window.SpeechRecognition||window.webkitSpeechRecognition;t?(this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!1,this.recognition.lang="en-US",this.recognition.onresult=e=>{let o=e.results[0][0].transcript;this.userInput=o,this.sendMessage()},this.recognition.onerror=e=>{this.snackBar.open("Speech recognition error: "+e.error,"Close",{duration:3e3}),this.isListening=!1},this.recognition.onend=()=>{this.isListening=!1}):this.snackBar.open("Speech recognition not supported in this browser.","Close",{duration:3e3})}userInput="";messages=[{text:"Hello! How can I assist you today?",isUser:!1}];isListening=!1;recognition;ngOnInit(){}ngOnDestroy(){this.recognition&&this.recognition.stop()}onInputChange(){}toggleSpeechRecognition(){this.isListening?(this.recognition.stop(),this.isListening=!1):this.recognition&&(this.recognition.start(),this.isListening=!0)}sendMessage(){if(this.userInput.trim()){this.messages.push({text:this.userInput,isUser:!0});let n=this.getBotResponse(this.userInput.toLowerCase());setTimeout(()=>{this.messages.push({text:n,isUser:!1})},500),this.userInput="",this.isListening&&(this.recognition.stop(),this.isListening=!1)}}getBotResponse(n){return n.includes("hello")||n.includes("hi")?"Hey\u{1F44B} there! How can I help you? ":n.includes("how are you")?"Doing great\u{1F44D}, thanks for asking\u2764\uFE0F! How about you?":n.includes("bye")||n.includes("goodbye")?"See you later!\u{1F44B}":"Sorry, I didn't quite get that. Try asking something else!"}static \u0275fac=function(t){return new(t||i)(M(E))};static \u0275cmp=_({type:i,selectors:[["app-meera-ai"]],decls:8,vars:4,consts:[[1,"chatbot-container"],[1,"chat-messages"],[3,"user-message","bot-message",4,"ngFor","ngForOf"],[1,"chat-input"],[1,"input-wrapper"],["type","text","placeholder","Type your message...",3,"ngModelChange","keyup.enter","ngModel"],["class","mic-button",3,"click",4,"ngIf"],["class","send-button",3,"click",4,"ngIf"],[1,"mic-button",3,"click"],[1,"send-button",3,"click"]],template:function(t,e){t&1&&(s(0,"div",0)(1,"div",1),m(2,W,2,5,"div",2),r(),s(3,"div",3)(4,"div",4)(5,"input",5),w("ngModelChange",function(p){return C(e.userInput,p)||(e.userInput=p),p}),l("ngModelChange",function(){return e.onInputChange()})("keyup.enter",function(){return e.sendMessage()}),r(),m(6,j,3,0,"button",6)(7,q,3,0,"button",7),r()()()),t&2&&(a(2),c("ngForOf",e.messages),a(3),y("ngModel",e.userInput),a(),c("ngIf",!e.userInput&&!e.isListening),a(),c("ngIf",e.userInput||e.isListening))},dependencies:[O,k,I,T,A,B,R,D,P,V,v,S,N,U,L,F],styles:[".chatbot-container[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;align-items:end;background-color:transparent;height:100%}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:10px;display:flex;flex-direction:column;gap:10px;overflow-y:auto;max-height:calc(100% - 60px)}.user-message[_ngcontent-%COMP%], .bot-message[_ngcontent-%COMP%]{background-color:#fff;border:.5px solid #ff6200;color:#333;padding:8px 15px;border-radius:20px;margin:5px 10px;max-width:80%;display:inline-block;word-wrap:break-word}.user-message[_ngcontent-%COMP%]{align-self:flex-end}.bot-message[_ngcontent-%COMP%]{align-self:flex-start}.chat-input[_ngcontent-%COMP%]{padding:10px;display:flex;background-color:transparent;position:sticky;bottom:0}.input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;align-items:center}input[_ngcontent-%COMP%]{flex:1;padding:8px 40px 8px 15px;border:.5px solid #ff6200;border-radius:20px;background-color:#fff;outline:none}.mic-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{position:absolute;right:5px;background-color:transparent;border:none;cursor:pointer;padding:0;display:flex;align-items:center;justify-content:center}.mic-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff6200;font-size:20px;width:20px;height:20px}.send-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover, .mic-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{color:#e55a00}.mic-button[_ngcontent-%COMP%]:disabled   mat-icon[_ngcontent-%COMP%]{color:#ffb380;cursor:not-allowed}"]})};export{H as MeeraAi};
